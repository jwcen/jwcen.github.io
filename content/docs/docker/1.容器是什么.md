# 容器是什么 

容器，就是一个特殊的隔离环境，它能够让进程只看到这个环境里的有限信息，不能对外界环境施加影响。本质：**容器就是被隔离的进程。**

## 为什么要隔离
- **系统安全。** 不受限制的程序十分危险，系统被搞瘫痪、信息泄露等。
使用容器技术，让应用程序运行在一个有严密防护的“沙盒”环境中，从而保证了容器外系统的安全。
- **进行资源隔离。** 只能使用指定的配额，避免容器内进程的过度系统消耗。

## 容器和虚拟机的区别？优势？
首先，容器和虚拟机的目的都是隔离资源，保证系统安全，然后是尽量提高资源的利用率。

虚拟机
- 能在宿主机系统里完整虚拟化出一套计算机硬件，并能安装任意操作系统，内外两个系统完全隔离，互不打扰。
- 可以把一台物理服务器虚拟成多台逻辑服务器，这些逻辑服务器彼此独立，可以按需分隔物理服务器的资源，
为不同的用户所使用。

容器
- 直接利用了下层的计算机硬件和操作系统，比虚拟机少了一层，更加节约 cpu 和内存，非常轻量级，能够高效利用硬件资源。
- 但由于多个容器共用一个操作系统内核，应用程序的隔离程度就没有虚拟机高了。

相比虚拟机技术，容器更加轻巧、更加高效，消耗的系统资源非常少，在云计算时代极
具优势。

![alt text](/imgs/docker/image.png)

## 隔离怎么实现的
- `namespace`: 可以创建出独立的文件系统、主机名、进程号、网络等资源空间，实现了系统全局资源和进程局部资源的隔离。
- `cgroup`：实现对进程的 CPU、内存等资源的优先级和配额限制。
- `chroot`: 可以更改进程的根目录，也就是限制访问文件系统。（目前使用 pivot-root）

